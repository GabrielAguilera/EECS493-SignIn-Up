
<!doctype html>
<head>
  <meta charset="utf-8">

  <title>Fitness Carrot</title>
  <meta name="description" content="Fitness Carrot - An application developed in EECS 493 - User Interfaces, W'14">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.18.min.js"></script>
</head>

<body>
  <div id="main">




    <script type="text/javascript">
        Parse.initialize("PAjzQPglIFtzZyMJfDPe5Ozvfzr7Pz1ukpHoLXct", "zTU8emhQIg5xTKZrhfF5ulrKnXQv4M6ztT9kFi90");

      Parse.User.logOut();
      var username = "username";
      var password = "password";


      Parse.User.logIn(username, password, {
          success: function (user) {
              // if login is successful
              alert("Welcome, " + user.get("firstName") + " " + user.get("lastName"));
              
              //Creates a subclass of Parse.Object
              var ExerciseInput = Parse.Object.extend("ExerciseInput");
              //Calls the constructor for the class
              var exerciseInput = new ExerciseInput();
              //Sets the variables
              exerciseInput.set("date", 1950);
              exerciseInput.set("value", -0.307);
              exerciseInput.set("parent", user);
              //Saves it to parse
              exerciseInput.save(null,{
                success: function(exerciseInput) {
                  alert("New object created with objectId: " + exerciseInput.id);
                  //Pushes the new object to the end of the exerciseInput array
                  user.add("exerciseEntries", exerciseInput);
                  //Saves it to parse again.
                  user.save();
                },
                error: function(exerciseInput, error) {
                  // inspect error
                  alert("failed to create new object, with error code: " + error.description);
                }
              });
          },
          error: function (user, error) {
              // Show the error message somewhere and let the user try again.
              alert("Error: " + error.code + " " + error.message);
          }
      });
    </script>

  </div>
</body>
</html>